<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vue 事件处理器</title>
    <script src="../lib/vue.min.js"></script>
</head>
<body>
<div id="eventId">
    <span><h1>1、事件处理器</h1></span>
    <p>用v-on指令来实现事件处理器（或事件监听器），并在事件触发时运行一些JS。</p>
    <p>使用 v-on 有几个好处</p>
    <ol>
        <li>通过HTML模板，能轻松定位在 JavaScript 代码里对应的方法</li>
        <li>因为你无须在 JavaScript 里手动绑定事件，你的 ViewModel 代码可以是非常纯粹的逻辑，和 DOM 完全解耦，更易于测试</li>
        <li>当一个 ViewModel 被销毁时，所有的事件处理器都会自动被删除。你无须担心如何清理它们</li>
    </ol>
    <span v-html="eventSyntactic"></span>
    例如要监听按钮的click事件，可以这样写：
    <ol>
        <li v-html="syntacticCode"></li>
        <button @click="clickCount+=1">按钮</button>
        <p>按钮被点击了{{clickCount}}次</p>
        <li v-html="syntacticMethod"></li>
        <button @click="clickMethod" title="ButtonTitle">按钮</button>
        <p>注意：</p>
        <ul>
            <li>在调用方法时，可以不写括号，要传递参数的除外</li>
            <li>方法声明处的event参数表示原生的dom事件对象</li>
        </ul>
        <li v-html="syntacticMethodWithParam"></li>
        <button @click="clickMethodWithParam(2)" title="ButtonTitle">按钮</button>
    </ol>
    <h2 v-html="eventModifier"></h2>
    <p>修饰符有事件修饰符、按键修饰符、鼠标按钮修饰符、系统键盘按键修饰符等</p>
    <p>参考：<a :href="eventModiferRef" target="_blank">修饰符</a></p>
    <h2 v-html="eventForShort"></h2>
    <p><b>v-on:</b>click=""  -->    <b style="color:red">@</b>click=""</p>
</div>
<script type="text/javascript">
    new Vue({
        el: '#eventId',
        data: {
            eventSyntactic: '<h2>v-on用法</h2>',
            clickCount: 0,
            syntacticCode: '直接写JS代码：&lt;button v-on:click="clickCount+=1"&gt;监听器直接写js代码&lt;/button&gt;',
            syntacticMethod: '调用VM函数：&lt;button v-on:click="clickMethod"&gt;监听器调用VM函数&lt;/button&gt;',
            syntacticMethodWithParam: '调用VM函数并传递参数：&lt;button v-on:click="clickMethodWithParam(2)"&gt;监听器调用VM带参数的函数&lt;/button&gt;',
            eventModifier: '事件修饰符',
            eventModiferRef: 'https://cn.vuejs.org/v2/guide/events.html#事件修饰符',
            eventForShort:'v-on缩写',
        },
        methods: {
            clickMethod: function (event) {
                alert('点击了按钮:' + event.target.title);
            },
            clickMethodWithParam: function (index) {
                alert('点击了按钮，索引为:' + index + "; 事件是默认传递的：" + event.target.title);
            }
        }
    });
</script>
</body>
</html>